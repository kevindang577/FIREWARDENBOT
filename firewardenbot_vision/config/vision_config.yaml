# Fire Detection Configuration
fire_detection:
  # Detection methods: 'color', 'thermal', 'smoke', 'ml', 'combined'
  detection_method: 'combined'
  
  # Confidence thresholds
  confidence_threshold: 0.7
  smoke_threshold: 0.3
  thermal_threshold: 0.6
  
  # Color detection parameters (HSV ranges)
  fire_colors:
    orange_red_1:
      lower: [0, 50, 50]
      upper: [20, 255, 255]
    orange_red_2:
      lower: [160, 50, 50]
      upper: [180, 255, 255]
    yellow:
      lower: [20, 100, 100]
      upper: [30, 255, 255]
  
  # Area thresholds (pixels)
  min_fire_area: 500
  max_fire_area: 50000
  min_smoke_area: 1000
  
  # Thermal detection
  thermal_temp_threshold: 200  # Temperature threshold for fire
  thermal_noise_reduction: true
  
  # ROI (Region of Interest) settings
  roi_enabled: true
  roi_focus_ground: true  # Focus on ground level for ground robots
  
  # Morphological operations
  morphology:
    open_kernel_size: 5
    close_kernel_size: 5
    iterations: 1

# Object Detection Configuration  
object_detection:
  # Detection confidence
  detection_confidence: 0.5
  nms_threshold: 0.4
  
  # Tracking settings
  enable_tracking: true
  tracker_type: 'CSRT'  # CSRT, KCF, MOSSE
  max_tracker_age: 30  # frames
  
  # Classes of interest for forest environment
  classes_of_interest:
    - 'person'
    - 'bicycle'
    - 'car'
    - 'motorcycle'
    - 'bus'
    - 'truck'
    - 'bird'
    - 'cat'
    - 'dog'
    - 'horse'
    - 'sheep'
    - 'cow'
    - 'elephant'
    - 'bear'
    - 'zebra'
    - 'giraffe'
  
  # Alert conditions
  alerts:
    people_detected: true
    vehicles_detected: true
    large_animals_detected: true
    animal_size_threshold: 10000  # pixels

# Camera Configuration
cameras:
  husky:
    main_camera:
      topic: '/husky/camera/image_raw'
      frame_rate: 30
      resolution: [1920, 1080]
      field_of_view: 80  # degrees
    
    thermal_camera:
      topic: '/husky/thermal_camera/image_raw'
      frame_rate: 10
      resolution: [640, 480]
      field_of_view: 60  # degrees
    
    stereo_left:
      topic: '/husky/camera_left/image_raw'
      baseline: 0.1  # meters
    
    stereo_right:
      topic: '/husky/camera_right/image_raw'
      
  drone:
    main_camera:
      topic: '/drone/camera/image_raw'
      frame_rate: 30
      resolution: [1920, 1080]
      field_of_view: 90  # degrees
      
    thermal_camera:
      topic: '/drone/thermal_camera/image_raw'
      frame_rate: 10
      resolution: [640, 480]
      field_of_view: 60  # degrees
      
    nav_camera:
      topic: '/drone/nav_camera/image_raw'
      frame_rate: 15
      resolution: [1280, 720]
      
    wide_camera:
      topic: '/drone/wide_camera/image_raw'
      frame_rate: 10
      field_of_view: 120  # degrees

# Image Processing Configuration
image_processing:
  # Enhancement settings
  enable_enhancement: true
  contrast_enhancement: 1.2
  brightness_adjustment: 0.1
  gamma_correction: 1.0
  
  # Noise reduction
  enable_noise_reduction: true
  gaussian_blur_kernel: 3
  bilateral_filter: true
  
  # Edge detection
  enable_edge_detection: false
  canny_threshold_1: 50
  canny_threshold_2: 150
  
  # Stabilization
  enable_stabilization: true
  stabilization_method: 'optical_flow'  # optical_flow, feature_matching

# Performance Configuration
performance:
  # Processing threads
  max_threads: 4
  
  # Memory management
  max_image_cache: 10
  enable_gpu_acceleration: false
  
  # Quality vs speed
  processing_quality: 'medium'  # low, medium, high
  
  # Debugging
  publish_debug_images: true
  save_detections: false
  debug_output_path: '/tmp/firewardenbot_debug'

# Integration Settings
integration:
  # ROS topics
  fire_alert_topic: '/fire_detection/alert'
  fire_location_topic: '/fire_detection/location'
  object_detections_topic: '/object_detection/detections'
  
  # Coordinate frames
  camera_frame: 'camera_optical_frame'
  base_frame: 'base_link'
  world_frame: 'map'
  
  # Transform timeout
  tf_timeout: 1.0  # seconds
